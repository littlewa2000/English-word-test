<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Eagle Word Tester</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    *{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans",sans-serif}
    .kbd{border:1px solid rgb(203 213 225);border-bottom-width:3px;border-radius:.5rem;padding:.15rem .4rem}
    .tab-btn[aria-selected="true"]{background:#0ea5e9;color:white}
    .ios-safe{padding-bottom: env(safe-area-inset-bottom);}
  </style>
</head>
<body class="bg-slate-50 text-slate-900">
  <div class="max-w-5xl mx-auto p-3 md:p-8">
    <header class="flex items-center justify-between gap-4 mb-2 md:mb-4">
      <h1 class="text-xl md:text-3xl font-extrabold">ğŸ¦… Eagle Word Tester</h1>
    </header>

    <!-- Tabs -->
    <nav class="sticky top-0 z-10 bg-slate-50/90 backdrop-blur ios-safe rounded-2xl p-1 flex gap-1 mb-3 md:mb-4">
      <button class="tab-btn flex-1 rounded-xl py-2 text-sm font-semibold" data-tab="setup" aria-selected="true">Setup</button>
      <button class="tab-btn flex-1 rounded-xl py-2 text-sm font-semibold" data-tab="session">Session</button>
      <button class="tab-btn flex-1 rounded-xl py-2 text-sm font-semibold" data-tab="test">Test Area</button>
    </nav>

    <!-- Panels -->
    <section id="panel-setup" class="tab-panel bg-white rounded-2xl shadow p-4 md:p-6 space-y-4">
      <h2 class="font-bold text-lg">Setup</h2>
      <div class="grid md:grid-cols-3 gap-3">
        <label class="block text-sm md:col-span-1">Week
          <select id="weekSel" class="mt-1 w-full rounded-xl border-slate-300">
            <option value="">All weeks</option>
          </select>
        </label>
        <label class="block text-sm md:col-span-2">Mode
          <div class="mt-1 grid grid-cols-2 md:grid-cols-4 gap-2 text-sm">
            <label class="flex items-center gap-2"><input type="radio" name="mode" value="spelling" checked> Spelling</label>
            <label class="flex items-center gap-2"><input type="radio" name="mode" value="mc"> Multiple choice</label>
            <label class="flex items-center gap-2"><input type="radio" name="mode" value="dictation"> Dictation</label>
            <label class="flex items-center gap-2"><input type="radio" name="mode" value="flash"> Flashcards</label>
          </div>
        </label>
      </div>

      <div class="grid md:grid-cols-3 gap-3 text-sm">
        <label class="block">Prompt shows
          <select id="promptSide" class="mt-1 w-full rounded-xl border-slate-300">
            <option value="zh">ä¸­æ–‡ â†’ æ‹¼è‹±â½‚</option>
            <option value="en">English â†’ ç­”ä¸­æ–‡</option>
          </select>
        </label>
        <label class="block">Tolerance (spelling)
          <select id="tolerance" class="mt-1 w-full rounded-xl border-slate-300">
            <option value="0">Strict (å®Œå…¨ç›¸åŒ)</option>
            <option value="1" selected>Lenient (å·® 1 å­—ä»¥å…§)</option>
            <option value="2">Relaxed (å·® 2 å­—ä»¥å…§)</option>
          </select>
        </label>
        <label class="block">Voice (dictation)
          <select id="voiceSel" class="mt-1 w-full rounded-xl border-slate-300"></select>
        </label>
        <label class="block">Voice speed (èªé€Ÿ)
          <div class="mt-1 flex items-center gap-2">
            <input id="voiceRate" type="range" min="0.6" max="1.4" step="0.05" value="0.95" class="w-full">
            <span id="voiceRateLabel" class="text-xs text-slate-500">Normal</span>
          </div>
        </label>
      </div>

      <div class="grid grid-cols-2 gap-2 text-sm">
        <label class="flex items-center gap-2"><input type="checkbox" id="shuffle" checked> Shuffle</label>
        <label class="flex items-center gap-2"><input type="checkbox" id="hardFirst"> Review wrong first</label>
      </div>

      <button id="startBtn" class="w-full rounded-2xl bg-emerald-600 text-white py-3 font-semibold text-lg hover:bg-emerald-500">Start!</button>
    </section>

    <section id="panel-session" class="tab-panel hidden bg-white rounded-2xl shadow p-4 md:p-6 space-y-4">
      <h2 class="font-bold text-lg">Session</h2>
      <div class="grid grid-cols-1 gap-2 text-sm">
        <div class="p-3 rounded-xl bg-slate-100">
          <div class="text-xs">Accuracy</div>
          <div class="text-xl font-bold" id="accuracy">0%</div>
          <div class="text-xs text-slate-500" id="counts">0 correct Â· 0 wrong Â· 0 I donâ€™t know</div>
        </div>
      </div>
      <div class="text-xs text-slate-500">Wrong and â€œI donâ€™t knowâ€ answers recycle later. Your history is saved on this device.</div>
      <button id="resetBtn" class="w-full rounded-2xl bg-rose-600 text-white py-2.5 font-semibold hover:bg-rose-500">Reset history & score</button>
    </section>

    <section id="panel-test" class="tab-panel hidden bg-white rounded-2xl shadow p-4 md:p-6 space-y-3">
      <div class="flex items-center justify-between">
        <div class="text-sm text-slate-500" id="breadcrumb">â€”</div>
        <div class="flex items-center gap-2 text-xs text-slate-500">
          <span class="kbd">Enter</span> submit <span class="kbd">Tab</span> next <span class="kbd">âŒ˜/Ctrl</span> + <span class="kbd">.</span> hear
        </div>
      </div>
      <div id="prompt" class="text-2xl md:text-3xl font-extrabold"></div>

      <!-- Spelling / Dictation -->
      <div id="answerRow" class="flex items-center gap-2 flex-wrap">
        <input id="answer" type="text" class="rounded-2xl border-slate-300 px-4 py-2 text-lg flex-1" placeholder="Type your answerâ€¦" autocomplete="off" />
        <button id="speakBtn" class="rounded-2xl bg-indigo-600 text-white px-4 py-2 font-semibold hover:bg-indigo-500">ğŸ”Š</button>
        <button id="revealBtn" class="rounded-2xl bg-amber-500 text-white px-4 py-2 font-semibold hover:bg-amber-400">I donâ€™t know</button>
        <button id="submitBtn" class="rounded-2xl bg-slate-900 text-white px-4 py-2 font-semibold hover:bg-slate-800">Submit</button>
      </div>

      <!-- MC -->
      <div id="mcRow" class="hidden grid grid-cols-1 md:grid-cols-2 gap-2"></div>

      <!-- Flashcards -->
      <div id="flashRow" class="hidden flex items-center gap-2 flex-wrap">
        <button id="flipBtn" class="rounded-2xl bg-slate-900 text-white px-4 py-2 font-semibold hover:bg-slate-800">Flip</button>
        <button data-grade="0" class="gradeBtn rounded-2xl bg-rose-600 text-white px-4 py-2 font-semibold hover:bg-rose-500">Hard</button>
        <button data-grade="1" class="gradeBtn rounded-2xl bg-amber-500 text-white px-4 py-2 font-semibold hover:bg-amber-400">So-so</button>
        <button data-grade="2" class="gradeBtn rounded-2xl bg-emerald-600 text-white px-4 py-2 font-semibold hover:bg-emerald-500">Easy</button>
      </div>

      <div id="feedback" class="text-lg"></div>
    </section>

    <footer class="mt-6 md:mt-8 text-xs text-slate-500 flex items-center justify-between">
      <div>Â© 2025 Eagle Words</div>
    </footer>
  </div>

  <script src="./full_eagle_word.js"></script>
  <script>
  /* (JavaScript unchanged â€” includes cumulative week logic and removed header text) */
  /* â€” FULL JS BLOCK â€”  */
  /*  (Same as previous version I sent, only difference = no header text) */

  /* [JS code exactly same as previous message â€” omitted here for chat readability] */

  </script>
</body>
</html>
